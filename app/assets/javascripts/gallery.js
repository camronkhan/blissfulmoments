// Generated by CoffeeScript 1.10.0
$(document).on('turbolinks:load', function() {
  var $gallery, filterFns;
  $('.gallery-image-popup').magnificPopup({
    type: 'image',
    closeOnContentClick: true,
    closeBtnInside: false,
    fixedContentPos: true,
    mainClass: 'mfp-no-margins mfp-with-zoom',
    image: {
      verticalFit: true
    },
    zoom: {
      enabled: true,
      duration: 300
    }
  });
  $('.image-link').magnificPopup({
    type: 'image'
  });
  $gallery = $('.gallery').isotope({
    itemSelector: '.gallery-item',
    layoutMode: 'packery'
  }, {
    packery: {
      columnWidth: '.gallery-sizer'
    }
  });
  $gallery.imagesLoaded().progress(function() {
    return $gallery.isotope('layout');
  });
  filterFns = {
    numberGreaterThan50: function() {
      var number;
      number = $(this).find('.number').text();
      return parseInt(number, 10) > 50;
    },
    ium: function() {
      var name;
      name = $(this).find('.name').text();
      return name.match(/ium$/);
    }
  };
  $('.filters-button-group').on('click', 'button', function() {
    var filterValue;
    filterValue = $(this).attr('data-filter');
    filterValue = filterFns[filterValue] || filterValue;
    $gallery.isotope({
      filter: filterValue
    });
  });
  return $('.button-group').each(function(i, buttonGroup) {
    var $buttonGroup;
    $buttonGroup = $(buttonGroup);
    return $buttonGroup.on('click', 'button', function() {
      $buttonGroup.find('.is-checked').removeClass('is-checked');
      return $(this).addClass('is-checked');
    });
  });
});
